{"version":3,"sources":["../../src/models/examSubject.js"],"names":["sequelize","DataTypes","examSubject","define","exam_subject","type","STRING","timestamps","freezeTableName","allowNull","classMethods","body","Promise","resolve","reject","findOne","where","then","response","create","user","err"],"mappings":";;;;;;kBAGe,UAASA,SAAT,EAAoBC,SAApB,EAA+B;AAC1C,QAAMC,cAAcF,UAAUG,MAAV,CAAiB,cAAjB,EAAiC;AACjDC,sBAAc;AACVC,kBAAMJ,UAAUK;AADN;AADmC,KAAjC,EAIjB;AACCC,oBAAY,IADb;AAECC,yBAAiB,IAFlB;AAGCC,mBAAW,IAHZ;AAICC,sBAAc;AACVN,wBADU,wBACGO,IADH,EACS;AAAA;;AACf,uBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,0BAAKC,OAAL,CAAa,EAAEC,OAAO,EAAEZ,cAAcO,KAAKP,YAArB,EAAT,EAAb,EAA6Da,IAA7D,CAAkE,UAACC,QAAD,EAAc;AAC5E,4BAAI,CAACA,QAAL,EAAe;AACX,kCAAKC,MAAL,CAAYR,IAAZ,EAAkBM,IAAlB,CAAuB,UAACG,IAAD,EAAU;AAC7BP,wCAAQO,IAAR;AACH,6BAFD,EAEG,UAACC,GAAD,EAAS;AAAEP,uCAAOO,GAAP;AAAa,6BAF3B;AAGH,yBAJD,MAIO;AACHP,mCAAO,uBAAP;AACH;AACJ,qBARD,EAQG,UAACO,GAAD,EAAS;AAAEP,+BAAOO,GAAP;AAAa,qBAR3B;AASH,iBAVM,CAAP;AAWH;AAbS;AAJf,KAJiB,CAApB;AAwBA,WAAOnB,WAAP;AACH,C;;AA7BD;;;;AACA","file":"examSubject.js","sourcesContent":["import examProvider from \"../providers/examsProvider\";\nimport slack from '../service/sendSlackNotification';\n\nexport default function(sequelize, DataTypes) {\n    const examSubject = sequelize.define(\"examSubjects\", {\n        exam_subject: {\n            type: DataTypes.STRING,\n        }\n    }, {\n        timestamps: true,\n        freezeTableName: true,\n        allowNull: true,\n        classMethods: {\n            exam_subject(body) {\n                return new Promise((resolve, reject) => {\n                    this.findOne({ where: { exam_subject: body.exam_subject } }).then((response) => {\n                        if (!response) {\n                            this.create(body).then((user) => {\n                                resolve(user)\n                            }, (err) => { reject(err) })\n                        } else {\n                            reject(\"subject already exist\")\n                        }\n                    }, (err) => { reject(err) })\n                })\n            }\n        }\n    });\n    return examSubject;\n}"]}