{"version":3,"sources":["../../src/controllers/sendMail.js"],"names":["sendMail","send_mail","req","res","next","_db","Smtp","smtp_details","then","smtp_info","err","body","subject","text","html","filename","content","response","handleSuccessResponse","catch","handleErrorResponse","bind","updateEmails","updateMails","email","sendMails"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEaA,Q,WAAAA,Q;;;;;;;;;;;;;;8LAETC,S,GAAY,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC5B,kBAAKC,GAAL,CAASC,IAAT,CAAcC,YAAd,GAA6BC,IAA7B,CAAkC,UAACC,SAAD,EAAYC,GAAZ,EAAoB;AAClD,oCAAUT,SAAV,CAAoBC,IAAIS,IAAJ,CAASC,OAA7B,EAAsCV,IAAIS,IAAJ,CAASE,IAA/C,EAAqDX,IAAIS,IAAJ,CAASG,IAA9D,EAAoEZ,IAAIS,IAAJ,CAASI,QAA7E,EAAuFb,IAAIS,IAAJ,CAASK,OAAhG,EAAyGP,SAAzG,EACKD,IADL,CACU,UAACS,QAAD,EAAc;AAChB,0BAAKC,qBAAL,CAA2BhB,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2Ca,QAA3C;AACH,iBAHL;AAIH,aALD,EAKGE,KALH,CAKS,MAAKC,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B,EAAoClB,GAApC,CALT;AAMH,S,QAEDmB,Y,GAAe,UAACpB,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC/B,gCAAUmB,WAAV,CAAsBrB,IAAIsB,KAA1B,EAAiChB,IAAjC,CAAsC,UAACS,QAAD,EAAc;AAChD,sBAAKC,qBAAL,CAA2BhB,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2Ca,QAA3C;AACH,aAFD,EAEGE,KAFH,CAES,MAAKC,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B,EAAoClB,GAApC,CAFT;AAGH,S;;AAdD;;;;;;AAiBJ,IAAMsB,YAAY,IAAIzB,QAAJ,EAAlB;kBACeyB,S","file":"sendMail.js","sourcesContent":["import BaseAPIController from \"./BaseAPIController\";\nimport mail_send from \"../modules/send_mail\";\nimport constant from \"../models/constant\";\nimport email_process from \"../mongodb/emailprocess\";\nimport logs from \"../service/emaillogs\";\n\nexport class sendMail extends BaseAPIController {\n    /* Controller for send mail */\n    send_mail = (req, res, next) => {\n        this._db.Smtp.smtp_details().then((smtp_info, err) => {\n            mail_send.send_mail(req.body.subject, req.body.text, req.body.html, req.body.filename, req.body.content, smtp_info)\n                .then((response) => {\n                    this.handleSuccessResponse(req, res, next, response)\n                })\n        }).catch(this.handleErrorResponse.bind(null, res));\n    }\n\n    updateEmails = (req, res, next) => {\n        mail_send.updateMails(req.email).then((response) => {\n            this.handleSuccessResponse(req, res, next, response)\n        }).catch(this.handleErrorResponse.bind(null, res));\n    }\n}\n\nconst sendMails = new sendMail();\nexport default sendMails;"]}